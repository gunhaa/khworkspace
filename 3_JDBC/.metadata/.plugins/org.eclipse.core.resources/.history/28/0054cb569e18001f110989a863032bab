package edu.kh.jdbc.main.view;

import java.util.InputMismatchException;
import java.util.Scanner;

import edu.kh.jdbc.member.model.vo.Member;
import edu.kh.jdbc.member.view.MemberView;

public class MainView { //메인 메뉴 (메뉴 선택용/ 입력화면)


	private Scanner sc = new Scanner(System.in);

	
	// 로그인한 회원의 정보가 저장된 객체를 참조할 변수
	private Member loginMember = null;

	//회원 관련 기능 화면을 모아둔 객체를 참조할 변수
	private MemberView memberView = new MemberView();


	//alt +shift + j : 메소드/클래스 설명용 주석
	/** 
	 * 메인 메뉴 출력 메소드
	 */
	public void displayMenu() {

		int menuNum=-1; //메뉴 선택 값 저장 변수

		while(menuNum!=0) {

			try {

				
				if(loginMember==null) {
					System.out.println("\n************** 회원제 게시판 프로그램 *************\n");

					System.out.println("1. 로그인");
					System.out.println("2. 회원 가입");
					System.out.println("0. 프로그램 종료");

					System.out.print("메뉴를 선택해주세요 >> ");

					menuNum = sc.nextInt(); //InputMismatchException
					sc.nextLine(); // 입력 버퍼 개행문자 제거
					System.out.println();
					
					switch(menuNum) {
					
					case 1: 
						memberView.login();
						break;
					case 2: 
						memberView.signUp();
						break;
					case 0: 
						System.out.println("-----프로그램 종료 ---------");
						break;
					default : System.out.println("메뉴에 작성된 번호를 입력해주세요.");
					}
					

				} else { //로그인이 되어있는 경우
					System.out.println(loginMember);
					break;
				}

			}catch(InputMismatchException e) {
				e.printStackTrace();
				sc.nextLine(); //입력 버퍼에 남은 잘못된 문자열 제거
			}


		}




	}

}
