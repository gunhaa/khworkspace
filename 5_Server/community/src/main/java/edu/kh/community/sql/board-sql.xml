<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>board-sql.xml</comment>

	<entry key="selectBoardName">
		SELECT BOARD_NM FROM BOARD_TYPE WHERE BOARD_CD = ?
	</entry>
	
	<entry key="getListCount">
		SELECT COUNT(*) FROM BOARD WHERE BOARD_CD = ? AND BOARD_ST= 'N'
	</entry>
	
	<entry key="selectBoardList">
		SELECT * FROM (
SELECT ROWNUM RNUM, A.* FROM (
        SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, MEMBER_NICK, TO_CHAR(CREATE_DT, 'YYYY-MM-DD') AS CREATE_DT,READ_COUNT ,
        (SELECT IMG_RENAME FROM BOARD_IMG WHERE IMG_LEVEL=0 AND BOARD_IMG.BOARD_NO =BOARD.BOARD_NO) THUMBNAIL
        FROM BOARD JOIN MEMBER USING(MEMBER_NO) WHERE BOARD_CD= ? AND BOARD_ST ='N' ORDER BY BOARD_NO DESC
    )A
)
WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<entry key="selectBoardDetail">
		SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, TO_CHAR(CREATE_DT, 'YYYY"년" MM"월" DD"일" HH24:MI:SS') CREATE_DT, TO_CHAR(UPDATE_DT, 'YYYY"년" MM"월" DD"일" HH24:MI:SS') UPDATE_DT , READ_COUNT, MEMBER_NICK, PROFILE_IMG, MEMBER_NO, BOARD_NM FROM BOARD JOIN MEMBER USING (MEMBER_NO) JOIN BOARD_TYPE USING (BOARD_CD) WHERE BOARD_NO = ? AND BOARD_ST = 'N'
	</entry>
	
	<entry key="selectBoardImg">
		SELECT * FROM BOARD_IMG WHERE BOARD_NO = ? ORDER BY IMG_LEVEL
	</entry>	

	<entry key="nextBoardNo">
		SELECT SEQ_BOARD_NO.NEXTVAL FROM DUAL
	</entry>
	
	<entry key="insertBoard">
		INSERT INTO BOARD VALUES (? , ? , ? , DEFAULT, DEFAULT, DEFAULT, DEFAULT, ?, ?)
	</entry>
	
	<entry key="insertBoardImage">
		INSERT INTO BOARD_IMG VALUES (SEQ_IMG_NO.NEXTVAL, ?, ?, ?, ?)
	</entry>
	
	<entry key="deleteBoard">
		UPDATE BOARD SET BOARD_ST='Y' WHERE BOARD_NO=?
	</entry>
</properties>
